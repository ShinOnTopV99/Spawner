-- ShinHub Garden - Spawner + Egg Predictor GUI with Loading Screen
-- Author: ChatGPT (customized for ShinOnTop)

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

-- =====================================
-- LOADING SCREEN
-- =====================================
local LoadingGui = Instance.new("ScreenGui")
LoadingGui.Name = "ShinYTCard"
LoadingGui.IgnoreGuiInset = true
LoadingGui.ResetOnSpawn = false
LoadingGui.Parent = PlayerGui

local Card = Instance.new("Frame")
Card.Size = UDim2.new(0, 380, 0, 140)
Card.Position = UDim2.new(0.5, 0, 0.5, 0)
Card.AnchorPoint = Vector2.new(0.5, 0.5)
Card.BackgroundColor3 = Color3.fromRGB(20, 20, 20)
Card.BackgroundTransparency = 0
Card.BorderSizePixel = 0
Card.Parent = LoadingGui
Instance.new("UICorner", Card).CornerRadius = UDim.new(0, 25)

local Glow = Instance.new("ImageLabel")
Glow.Size = UDim2.new(0, 80, 0, 80)
Glow.Position = UDim2.new(0, 10, 0, 10)
Glow.BackgroundTransparency = 1
Glow.Image = "rbxassetid://5028857084"
Glow.ImageColor3 = Color3.fromRGB(170, 85, 255)
Glow.ImageTransparency = 0.3
Glow.ZIndex = 0
Glow.Parent = Card

task.spawn(function()
    while Glow.Parent do
        TweenService:Create(Glow, TweenInfo.new(1.2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {ImageTransparency = 0.6}):Play()
        task.wait(1.2)
        TweenService:Create(Glow, TweenInfo.new(1.2, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut), {ImageTransparency = 0.3}):Play()
        task.wait(1.2)
    end
end)

local Profile = Instance.new("ImageLabel")
Profile.Size = UDim2.new(0, 60, 0, 60)
Profile.Position = UDim2.new(0, 20, 0, 20)
Profile.BackgroundTransparency = 1
Profile.Image = "rbxassetid://123242117343117"
Profile.ZIndex = 1
Profile.Parent = Card
Instance.new("UICorner", Profile).CornerRadius = UDim.new(1, 0)

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -100, 0, 40)
Title.Position = UDim2.new(0, 100, 0, 30)
Title.BackgroundTransparency = 1
Title.Text = "YouTube: ShinOnTop YT"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextScaled = true
Title.Font = Enum.Font.GothamBold
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = Card

local BarBack = Instance.new("Frame")
BarBack.Size = UDim2.new(1, -40, 0, 22)
BarBack.Position = UDim2.new(0, 20, 0, 95)
BarBack.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
BarBack.BorderSizePixel = 0
BarBack.Parent = Card
Instance.new("UICorner", BarBack).CornerRadius = UDim.new(0, 12)

local BarFill = Instance.new("Frame")
BarFill.Size = UDim2.new(0, 0, 1, 0)
BarFill.Position = UDim2.new(0, 0, 0, 0)
BarFill.BackgroundColor3 = Color3.fromRGB(170, 85, 255)
BarFill.BorderSizePixel = 0
BarFill.Parent = BarBack
Instance.new("UICorner", BarFill).CornerRadius = UDim.new(0, 12)

local PercentText = Instance.new("TextLabel")
PercentText.Size = UDim2.new(1, 0, 0, 20)
PercentText.Position = UDim2.new(0, 0, 0, 72)
PercentText.BackgroundTransparency = 1
PercentText.Text = "0%"
PercentText.TextColor3 = Color3.fromRGB(255, 255, 255)
PercentText.TextScaled = true
PercentText.Font = Enum.Font.GothamBold
PercentText.Parent = Card

local SubText = Instance.new("TextLabel")
SubText.Size = UDim2.new(1, 0, 0, 30)
SubText.Position = UDim2.new(0, 0, 0.5, -15)
SubText.BackgroundTransparency = 1
SubText.Text = "Subscribe To ShinOnTop YT"
SubText.TextColor3 = Color3.fromRGB(255, 255, 255)
SubText.TextScaled = true
SubText.Font = Enum.Font.GothamBold
SubText.TextXAlignment = Enum.TextXAlignment.Center
SubText.Parent = Card

TweenService:Create(Card, TweenInfo.new(0.6, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {Size = UDim2.new(0, 380, 0, 140)}):Play()

-- =====================================
-- SPAWNER GUI (hidden until loading done)
-- =====================================
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ShinHubGarden"
ScreenGui.Parent = PlayerGui
ScreenGui.ResetOnSpawn = false
ScreenGui.Enabled = false -- ðŸ‘ˆ hidden first

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 300, 0, 180)
MainFrame.Position = UDim2.new(0.5, -150, 0.5, -90)
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.BorderSizePixel = 0
MainFrame.Parent = ScreenGui

local UIStroke = Instance.new("UIStroke")
UIStroke.Color = Color3.fromRGB(255, 0, 0)
UIStroke.Thickness = 2
UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
UIStroke.Parent = MainFrame

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0, 8)
UICorner.Parent = MainFrame

local TitleBar = Instance.new("Frame")
TitleBar.Size = UDim2.new(1, 0, 0, 30)
TitleBar.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
TitleBar.BorderSizePixel = 0
TitleBar.Parent = MainFrame

local TitleText = Instance.new("TextLabel")
TitleText.Size = UDim2.new(1, -60, 1, 0)
TitleText.Position = UDim2.new(0, 10, 0, 0)
TitleText.BackgroundTransparency = 1
TitleText.Text = "ðŸŒ± ShinHub Garden"
TitleText.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleText.TextSize = 16
TitleText.Font = Enum.Font.GothamBold
TitleText.TextXAlignment = Enum.TextXAlignment.Left
TitleText.Parent = TitleBar

local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 25, 0, 25)
CloseButton.Position = UDim2.new(1, -30, 0.5, -12)
CloseButton.BackgroundColor3 = Color3.fromRGB(60, 0, 0)
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextSize = 14
CloseButton.Parent = TitleBar

local MinimizeButton = Instance.new("TextButton")
MinimizeButton.Size = UDim2.new(0, 25, 0, 25)
MinimizeButton.Position = UDim2.new(1, -60, 0.5, -12)
MinimizeButton.BackgroundColor3 = Color3.fromRGB(40, 40, 0)
MinimizeButton.Text = "-"
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.Font = Enum.Font.GothamBold
MinimizeButton.TextSize = 14
MinimizeButton.Parent = TitleBar

local ContentFrame = Instance.new("Frame")
ContentFrame.Size = UDim2.new(1, 0, 1, -30)
ContentFrame.Position = UDim2.new(0, 0, 0, 30)
ContentFrame.BackgroundTransparency = 1
ContentFrame.Parent = MainFrame

local function CreateButton(text, yPos, callback)
    local btn = Instance.new("TextButton")
    btn.Size = UDim2.new(0.9, 0, 0, 40)
    btn.Position = UDim2.new(0.05, 0, 0, yPos)
    btn.BackgroundColor3 = Color3.fromRGB(45, 45, 45)
    btn.Text = text
    btn.TextColor3 = Color3.fromRGB(255, 255, 255)
    btn.TextSize = 16
    btn.Font = Enum.Font.GothamBold

    local btnCorner = Instance.new("UICorner")
    btnCorner.CornerRadius = UDim.new(0, 6)
    btnCorner.Parent = btn

    local stroke = Instance.new("UIStroke")
    stroke.Color = Color3.fromRGB(255, 0, 0)
    stroke.Thickness = 1
    stroke.Parent = btn

    btn.MouseButton1Click:Connect(callback)
    btn.Parent = ContentFrame
end

-- ðŸŒ´ Shin Spawner
CreateButton("ðŸŒ´ Shin Spawner", 10, function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/veryimportantrr/x/refs/heads/main/gag_visual.lua", true))("discord.gg/csxu2nCkw9")
end)

-- ðŸ¥š Egg Predictor
CreateButton("ðŸ¥š Egg Predictor", 60, function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/ShinOnTopV99/eggesp/refs/heads/main/egg"))()
end)

CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

local minimized = false
MinimizeButton.MouseButton1Click:Connect(function()
    minimized = not minimized
    ContentFrame.Visible = not minimized
    if minimized then
        MainFrame.Size = UDim2.new(0, 300, 0, 30)
    else
        MainFrame.Size = UDim2.new(0, 300, 0, 180)
    end
end)

-- Dragging logic
local dragging = false
local dragStart, startPos
TitleBar.InputBegan:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 then
        dragging = true
        dragStart = input.Position
        startPos = MainFrame.Position
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragging = false
            end
        end)
    end
end)
TitleBar.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement and dragging then
        local delta = input.Position - dragStart
        MainFrame.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    end
end)

-- =====================================
-- LOADING BAR ANIMATION
-- =====================================
task.spawn(function()
    task.wait(0.7)
    for i = 1, 100 do
        BarFill.Size = UDim2.new(i/100, 0, 1, 0)
        PercentText.Text = i.."%"
        task.wait(0.4) -- ~40 seconds total
    end

    -- Fade out loading screen
    TweenService:Create(Card, TweenInfo.new(0.7), {BackgroundTransparency = 1}):Play()
    TweenService:Create(BarBack, TweenInfo.new(0.7), {BackgroundTransparency = 1}):Play()
    TweenService:Create(BarFill, TweenInfo.new(0.7), {BackgroundTransparency = 1}):Play()
    TweenService:Create(Title, TweenInfo.new(0.7), {TextTransparency = 1}):Play()
    TweenService:Create(SubText, TweenInfo.new(0.7), {TextTransparency = 1}):Play()
    TweenService:Create(PercentText, TweenInfo.new(0.7), {TextTransparency = 1}):Play()
    TweenService:Create(Profile, TweenInfo.new(0.7), {ImageTransparency = 1}):Play()
    TweenService:Create(Glow, TweenInfo.new(0.7), {ImageTransparency = 1}):Play()

    task.wait(1)
    LoadingGui:Destroy()

    -- Show Spawner GUI
    ScreenGui.Enabled = true
end)
